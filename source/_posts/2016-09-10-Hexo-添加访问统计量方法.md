---
title: Hexo 添加访问统计量方法
date: 2016-09-10 22:49:33
updated: 2016-09-10 22:49:33
tags: 
categories: Hexo
---

### 本文主要是记录 Hexo 添加访问统计量的备忘

1. 使用 **不蒜子** 方式

	- 要使用不蒜子必须在页面中引入 `busuanzi.js`,在 themes/你的主题/layout/_partial/footer.ejs 添加下面的脚本即可，当然你也可以添加到 `header` 中。
	```javascript
		<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
		</script>
	```

	- 添加显示代码(如下)到页面位置，可以添加到 themes/你的主题/layout/_partial/footer.ejs
	```javascript
		本站访问量: <span id="busuanzi_value_site_uv"><i class="fa fa-spinner fa-spin"></i></span> 次
	```

	我的主题是 `freemind` 使用的是 `bootstrap` 界面框架，自带了 `font-awesome` 字体，如果是其它主题需要增加相应的文件。
	```javascript
		<link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
	```

	- 添加文章的访问统计，我是在 themes/你的主题/layout/_partial/article.ejs 的页头添加，具体可以更加各自喜爱位置放置。
	```javascript
		本文总阅读量: <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span> 次
	```

	- 统计方法差别

		* 算法 a：pv 的方式，单个用户连续点击 n 篇文章，记录 n 次访问量
		```javascript
			<span id="busuanzi_container_site_pv">
			本站总访问量<span id="busuanzi_value_site_pv"></span>次
			</span>
		```

		* 算法 b：uv 的方式，单个用户连续点击 n 篇文章，只记录 1 次访客数
		```javascript
			<span id="busuanzi_container_site_uv">
			本站访客数<span id="busuanzi_value_site_uv"></span>人次
			</span>
		```
	- 原理主要是通过记录访问 RUL 地址的次数，来记录网站和文章访问次数。只不过保存的值在 **不蒜子** 服务器，页面每次加载时都去读取记录值。

	- 详细可以参考 [使用不蒜子方式添加网站访问](http://ibruce.info/2015/04/04/busuanzi/) 文章介绍，[不蒜子注册网站](http://busuanzi.ibruce.info/)。


#### 参考：
- [使用 LeanCloud 添加文章浏览量统计组件](http://crescentmoon.info/2014/12/11/popular-widget/)
- [效果展示网站](http://qifuguang.me/)
- [DnsPod 设置二级域名](http://www.iplayseo.com/how-to-set-nameservers/)