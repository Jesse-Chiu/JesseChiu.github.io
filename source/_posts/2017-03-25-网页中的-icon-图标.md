---
title: 网页中的 Icon 图标显示方法介绍
date: 2017-03-25 18:49:25
tags:
categories: Css
---

本文主要是介绍在网页显示图标的几种方式

## 一、直接引用
这种方式就是方法简单直观，但是每次都会发起 HTTP 请求，效率不高，影响性能。
```html
// ...
<img src="../../img/xxx.png/jpg/gif/svg"></img>
// ...
```

## 二、CSS Sprites
在国内很多人叫 Css 精灵，是一种网页图片应用处理方式。它允许你将一个页面涉及到的所有零星图片都包含到一张大图中去，再利用 CSS 的 `background-image`，`background-repeat`，`background-position` 的组合进行背景定位，`background-position` 可以用数字精确的定位出背景图片的位置。这样一来，当访问该页面时，载入的图片就不会像以前那样一幅一幅地慢慢显示出来了。对于当前网络流行的速度而言，不高于 200KB 的单张图片的所需载入时间基本是差不多的，所以无需顾忌这个问题。
这里需要注意的，在使用 `background-position` 时，使用的 x、y 的坐标都是相对与左上角 (0，0),来计算。所以要显示图片，坐标值都是 **负数**。

```html
<style type="text/css">
.sprite span{
	height: 40px;
	width: 24px;
	display: block;
	margin-left: 10px;
	margin-right: 8px;
	float: left;
	background-image: url("../images/my-icon.png");
}
.sprite span:hover{
	background-color: #fff;
	border-color: #fff
}
.sprite a:hover{
	color: #b51600;
}
.icon-music{
	background-position: 0 -40;
}
</style>
<div class="sprite">
	<span style="background-position: 0 -40;"></span>
	<a href="">图片显示在我前面</a>
</div>
// 或者
<div class="sprite">
	<span class="icon-music"></span>
	<a href="">图片显示在我前面</a>
</div>
```

## 三、字体图标方式
利用字体工具把我们平时 Web 上用的图形图标（icons）转换成 web fonts，就成了 icon fonts，它可以借助 CSS 的 @font-face 嵌入到网页里，用以显示 icons。因为字体是矢量化图形，它天生具有「分辨率无关」的特性，在任何分辨率和PPI下面，都可以做到完美缩放，不会像传统位图，如：png，jpeg，放大后有锯齿或模糊现象。
使用字体图标库和上面的 `css sprite` 一样可以避免发起多次 `HTTP` 请求的性能损耗问题，更重要的是，它是矢量图，放大不会失真，而且还可以改变它的颜色和添加动画，还有浏览器的兼容性也非常好。它在 `Web` 中的实现有下面三种方式。
下面的代码已经默认把我们要生成的图标转为字体文件，具体方法很多，简单方法可以通过在线生成。这里介绍个国外的网站 [icomoon(图标在线生成工具)](https://icomoon.io)，大部分都是免费的。
生成的字体文件的四种格式：
- my-icon.eot
- my-icon.woff
- my-icon.ttf
- my-icon.svg
上面的字体格式说明如果不清楚可以参考 [网页字体替换](/2016/09/04/网页字体替换/) 

### 1. font + html
```html
<style type="text/css">
@font-face {
  font-family: "my-icon";
  src: url("../fonts/my-icon.eot");
  /* 添加: ? 是为了IE9 兼容模式，而 '#iefix' 是注释意思 */
  src: url("../fonts/my-icon.eot?#iefix") format("embedded-opentype"), 
  url("../fonts/my-icon.woff") format("woff"), 
  url("../fonts/my-icon.ttf") format("truetype"), 
  url("../fonts/my-icon.svg") format("svg");
  font-weight: normal;
  font-style: normal;
}
.my-icon {
  font-family: "my-icon";
  font-style: normal;
  font-weight: normal;
  font-size: 64px;
  /*可以让如表更好的显示*/
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
</style>
<body>
	<!-- 可以重新设置图标显示的颜色和大小 -->
	<i style="color: #efe0ce;font-size:30px;" class="my-icon">&#xf048;</i>
</body>
```
上面中显示的图标是通过字体中对应的 16 进制值来显示：`f048;`。在网页中要显示 16 进制值需要添加 `&#x` 前缀。

### 2. font + css
#### 2.1 方式一
```html
<style type="text/css">
// ... 代码同上
.icon-music:before{
	content: "\f048"; /*前面的 `\` 是转义字符。*/
}
</style>
<body>
	<i class="my-icon icon-music"></i>
</body>
```

#### 2.2 方式二
上面 2.1 的方式唯一麻烦的是要一个一个的去写样式文件，肯定不是高效率的方法，有没有自动生成字体的同时把样式都一起写好？答案是肯定的，方法之一就是通过上面介绍的 [icomoon(图标在线生成工具)](https://icomoon.io) 网站生成。

#### 2.3 优点
- 文件小：相比图片几十几百KB的容量，icon fonts 几乎是羽翼级轻量。
- 加载性能好：因为图标都被打包进一套字体内，http request 减少。这如同我们常用的 css sprites 技术。
- 支持CSS样式：和普通字体一样，你可以利用CSS来定义大小、颜色、阴影、hover状态、透明度、渐变等等…
- 兼容性好：web fonts 起源很早，别说主流浏览器，连IE6/7都能良好支持。除了一些老的移动端浏览器，如Android 2.1以下的初代浏览器，Opera mini 这类自限型浏览器。

#### 2.4 不足点
- 样式单一，无法针对不同分辨率来调整icon 的细节，比如降低大尺寸icon 的线条粗细。
- 颜色单一，CSS 无法方便的去定义彩色的 icon，倒是有通过叠加组合的方式来达到彩色图标的目的。
- 移动端浏览器兼容性还不够完善，像Opera mini、Windows phone 7.0-7.8 都不能正常显示icon fonts。
- 有少量的移动设备有可能会和 icon fonts 的字符编码冲突，导致icon 显示不正常.


## 四、各种显示方式对比
![]()



## 参考
- [css sprite](http://baike.baidu.com/item/css%20sprite?fr=aladdin)
- [响应式Web图形篇 —— icon fonts 的探析及应用](http://www.infoq.com/cn/articles/icons-fonts-as-your-responsive-strategy)
- [如何把你的图标转换成web字体](http://www.w3cplus.com/css3/how-to-turn-your-icons-into-a-web-font.html)
- [关于SVG与Icon Font的几点比较 | CSS](http://sanwen.net/a/qavwspo.html)
- 在线图标生成网站
	* [icon 图标生成工具](https://icomoon.io) 国外网站,可能会比较慢
	* [阿里的 iconfont](http://www.iconfont.cn)    
	* [fontello](http://fontello.com/)  
	* [Font Awesome](http://fontawesome.io/)
- [before 和 after 伪元素](http://www.w3cplus.com/css3/learning-to-use-the-before-and-after-pseudo-elements-in-css.html)
- [css content](http://www.w3cplus.com/css3/css-reference/content.html)
- [用字体在网页中画ICON图标](http://www.imooc.com/learn/243) 慕课网视频教程，推荐
- [webpack中如何使用iconfont字体图标](http://blog.csdn.net/xiaoermingn/article/details/53543001)
- [webpack多页应用架构系列（六）：听说webpack连图片和字体也能打包？](http://www.tuicool.com/articles/6zMfIbF)
