---
title: 清除 float 方法总结
date: 2016-11-25 13:57:52
updated: 2016-11-25 13:57:52
tags:
categories: Css
feature:
---

## 一、抛一块问题砖（display： block）先看现象

![](http://static.oschina.net/uploads/space/2014/0411/212009_OUhA_1242866.jpg)

分析 HTML 代码结构：

```html
<div class="outer">
    <div class="div1">1</div>
    <div class="div2">2</div>
    <div class="div3">3</div>
</div>
```
分析CSS代码样式：

```css
.outer{border: 1px solid #ccc;background: #fc9;color: #fff; margin: 50px auto;padding: 50px;}
.div1{width: 80px;height: 80px;background: red;float: left;}
.div2{width: 80px;height: 80px;background: blue;float: left;}
.div3{width: 80px;height: 80px;background: sienna;float: left;}
```

这里我没有给最外层的 DIV.outer 设置高度，但是我们知道如果它里面的元素不浮动的话，那么这个外层的高是会自动被撑开的。但是当内层元素浮动后，就出现了一下影响：

- 背景不能显示
- 边框不能撑开
- margin 设置值不能正确显示

## 二、清除 css 浮动 

### 1. 方法一：添加新的元素 、应用 `clear：both;`

HTML：

```html
<div class="outer">
    <div class="div1">1</div>
    <div class="div2">2</div>
    <div class="div3">3</div>
    <div class="clear"></div>
</div>
```

CSS：

```css
.clear{clear:both; height: 0; line-height: 0; font-size: 0}
```

**result： （纠正： padding 不会受影响）**

![](http://static.oschina.net/uploads/space/2014/0411/213640_hgsY_1242866.jpg)

### 2. 方法二：父级 div 定义 `overflow: auto` （注意：是父级div也就是这里的  div.outer）

HTML：
```html
<div class="outer over-flow"> //这里添加了一个class
    <div class="div1">1</div>
    <div class="div2">2</div>
    <div class="div3">3</div>
    <!--<div class="clear"></div>-->
</div>
```

CSS：

```css
.over-flow{
    overflow: auto; zoom: 1; //zoom: 1; 是在处理兼容性问题
}
```

结果：当然是实现了！  `img{display: none};` 略图

原理：使用 overflow 属性来清除浮动有一点需要注意，overflow 属性共有三个属性值:`hidden,auto,visible`。我们可以使用 `hidden` 和 `auto` 值来清除浮动，但切记不能使用 `visible` 值，如果使用这个值将无法达到清除浮动效果，其他两个值都可以，其区据说在于一个对`seo` 比较友好，另个 `hidden` 对 `seo` 不是太友好。

### 3. 方法三： 据说是最高大上的方法 `:after` 方法：（注意：作用于浮动元素的父亲）

先说原理：这种方法清除浮动是现在网上最拉风的一种清除浮动，他就是利用 `:after` 和 `:before` 来在元素内部插入两个元素块，从面达到清除浮动的效果。其实现原理类似于 `clear:both` 方法，只是区别在于 `:clear` 在 html 插入一个 `div.clear` 标签，而 `outer` 利用其伪类 `clear:after` 在元素内部增加一个类似于 `div.clear` 的效果。下面来看看其具体的使用方法：

```html
.outer {zoom:1;}    /*==for IE6/7 Maxthon2==*/
.outer :after {clear:both;content:'.';display:block;width: 0;height: 0;visibility:hidden;}   /*==for FF/chrome/opera/IE8==*/
```

其中 `clear:both;` 指清除所有浮动；`content: '.'; display:block;` 对于 FF/chrome/opera/IE8 不能缺少，其中 `content()` 可以取值也可以为空。`visibility:hidden;` 的作用是允许浏览器渲染它，但是不显示出来，这样才能实现清楚浮动。

### 4. 最后：但不是不重要，也不是不知道！

下一标签直接清浮动兄弟标签浮动时，在下一标签的属性中直接写入清除 `clear:both;` 这样就可以清除以上标签的浮动而不用加入空标签来清除浮动。

`$('.float').end().` 

结语：清除浮动的方式虽然是有很多种，但是不是每种都适合你，也不是每种都能很好的兼容所有浏览器，所以参照你觉得最好的方式去做，个人觉得方法三不错，不需多于的标签，而且也能很好的兼容。当一个内层元素是浮动的时候，如果没有关闭浮动时，其父元素也就不会再包含这个浮动的内层元素，因为此时浮动元素已经 **脱离了**文档流。也就是为什么外层不能被撑开了！

## 参考
- 引用 [css清除浮动float的三种方法总结](https://my.oschina.net/leipeng/blog/221125)